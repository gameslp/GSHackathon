{"openapi":"3.0.0","info":{"title":"GS Hackathon API","version":"1.0.0","description":"API documentation for GS Hackathon backend with TOTP authentication"},"servers":[{"url":"http://localhost:3000","description":"Development server"}],"components":{"securitySchemes":{"cookieAuth":{"type":"apiKey","in":"cookie","name":"auth_token","description":"JWT token stored in HTTP-only cookie"}},"schemas":{"Error":{"type":"object","properties":{"error":{"type":"string","description":"Error message"}}},"User":{"type":"object","properties":{"id":{"type":"integer","description":"User ID"},"username":{"type":"string","description":"Username"},"role":{"type":"string","enum":["ADMIN","JUDGE","PARTICIPANT"],"description":"User role"}}},"UserProfile":{"type":"object","properties":{"id":{"type":"integer","description":"User ID"},"username":{"type":"string","description":"Username"},"role":{"type":"string","enum":["ADMIN","JUDGE","PARTICIPANT"],"description":"User role"},"name":{"type":"string","nullable":true,"description":"User first name"},"surname":{"type":"string","nullable":true,"description":"User last name"},"email":{"type":"string","format":"email","nullable":true,"description":"User email address"},"totpConfirmed":{"type":"boolean","description":"Whether user has confirmed TOTP setup"},"profileFillPercentage":{"type":"integer","minimum":0,"maximum":100,"description":"Percentage of profile fields filled (name, surname, email)"},"createdAt":{"type":"string","format":"date-time","description":"User creation timestamp"},"updatedAt":{"type":"string","format":"date-time","description":"User last update timestamp"}}},"UserWithDetails":{"type":"object","properties":{"id":{"type":"integer","description":"User ID"},"username":{"type":"string","description":"Username"},"role":{"type":"string","enum":["ADMIN","JUDGE","PARTICIPANT"],"description":"User role"},"totpConfirmed":{"type":"boolean","description":"Whether user has confirmed TOTP setup"},"createdAt":{"type":"string","format":"date-time","description":"User creation timestamp"},"updatedAt":{"type":"string","format":"date-time","description":"User last update timestamp"}}},"RegisterStartRequest":{"type":"object","required":["username"],"properties":{"username":{"type":"string","description":"Desired username","example":"johndoe"}}},"RegisterStartResponse":{"type":"object","properties":{"userId":{"type":"integer","description":"Created user ID"},"username":{"type":"string","description":"Username"},"totpSecret":{"type":"string","description":"TOTP secret in base32 format for QR code generation"}}},"RegisterConfirmRequest":{"type":"object","required":["username","token"],"properties":{"username":{"type":"string","description":"Username","example":"johndoe"},"token":{"type":"string","description":"6-digit TOTP code from Google Authenticator","example":"123456","pattern":"^[0-9]{6}$"}}},"LoginRequest":{"type":"object","required":["username","token"],"properties":{"username":{"type":"string","description":"Username","example":"johndoe"},"token":{"type":"string","description":"6-digit TOTP code from Google Authenticator","example":"123456","pattern":"^[0-9]{6}$"}}},"LoginResponse":{"type":"object","properties":{"message":{"type":"string","example":"Login successful"},"user":{"$ref":"#/components/schemas/User"}}},"MessageResponse":{"type":"object","properties":{"message":{"type":"string"}}},"HealthResponse":{"type":"object","properties":{"status":{"type":"string","example":"OK"}}},"TeamDetails":{"type":"object","properties":{"id":{"type":"integer","description":"Team ID"},"name":{"type":"string","description":"Team name"},"invitationCode":{"type":"string","pattern":"^[0-9]{6}$","description":"6-digit invitation code"},"captainId":{"type":"integer","description":"Team captain user ID"},"hackathon":{"type":"object","properties":{"id":{"type":"integer"},"title":{"type":"string"},"teamMax":{"type":"integer"},"teamMin":{"type":"integer"}}},"members":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"username":{"type":"string"},"name":{"type":"string","nullable":true},"surname":{"type":"string","nullable":true}}}},"createdAt":{"type":"string","format":"date-time"}}},"TeamSummary":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"invitationCode":{"type":"string"},"captainId":{"type":"integer"},"isAccepted":{"type":"boolean","description":"Whether team is accepted by admin"},"memberCount":{"type":"integer","description":"Number of members in team"},"members":{"type":"array","items":{"type":"object"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"TeamWithSurvey":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"invitationCode":{"type":"string"},"captainId":{"type":"integer"},"isAccepted":{"type":"boolean"},"hackathon":{"type":"object"},"memberResponses":{"type":"array","items":{"type":"object","properties":{"member":{"type":"object","properties":{"id":{"type":"integer"},"username":{"type":"string"},"name":{"type":"string","nullable":true},"surname":{"type":"string","nullable":true},"email":{"type":"string","nullable":true}}},"surveyResponses":{"type":"array","items":{"type":"object","properties":{"questionId":{"type":"integer"},"question":{"type":"string"},"answer":{"type":"string"},"order":{"type":"integer"}}}}}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Hackathon":{"type":"object","properties":{"id":{"type":"integer","description":"Hackathon ID"},"title":{"type":"string","description":"Hackathon title"},"description":{"type":"string","description":"Hackathon description"},"rules":{"type":"string","description":"Hackathon rules"},"type":{"type":"string","enum":["CLASSIFICATION","REGRESSION","NLP","COMPUTER_VISION","TIME_SERIES","OTHER"],"description":"Hackathon type"},"prize":{"type":"integer","minimum":0,"description":"Prize amount in dollars"},"organizerId":{"type":"integer","description":"Organizer user ID"},"teamMax":{"type":"integer","description":"Maximum team size"},"teamMin":{"type":"integer","description":"Minimum team size"},"registrationOpen":{"type":"string","format":"date-time","description":"Registration open date"},"startDate":{"type":"string","format":"date-time","description":"Hackathon start date"},"endDate":{"type":"string","format":"date-time","description":"Hackathon end date"},"organizer":{"type":"object","description":"Hackathon organizer user"},"teams":{"type":"array","items":{"type":"object"},"description":"Teams participating in hackathon"},"resources":{"type":"array","items":{"type":"object"},"description":"Hackathon resources"},"createdAt":{"type":"string","format":"date-time","description":"Creation timestamp"},"updatedAt":{"type":"string","format":"date-time","description":"Last update timestamp"}}}}},"tags":[{"name":"Authentication","description":"TOTP-based authentication endpoints"},{"name":"Admin","description":"Admin-only user management endpoints"},{"name":"Teams","description":"Hackathon team management endpoints"},{"name":"Hackathon Management","description":"Admin-only hackathon and team management"},{"name":"Health","description":"Health check endpoints"}],"paths":{"/admin/users":{"get":{"tags":["Admin"],"summary":"Get all users with pagination","description":"Retrieve a paginated list of all users (Admin only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"limit","schema":{"type":"integer","default":10},"description":"Number of users per page"}],"responses":{"200":{"description":"Users retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/UserWithDetails"}},"pagination":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden - Admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/admin/users/{id}/role":{"patch":{"tags":["Admin"],"summary":"Update user role","description":"Change a user's role (Admin only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"User ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["role"],"properties":{"role":{"type":"string","enum":["ADMIN","JUDGE","PARTICIPANT"],"description":"New role for the user"}}}}}},"responses":{"200":{"description":"User role updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"user":{"$ref":"#/components/schemas/UserWithDetails"}}}}}},"400":{"description":"Invalid user ID or role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden - Admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/admin/users/{id}":{"delete":{"tags":["Admin"],"summary":"Delete user","description":"Delete a user from the system (Admin only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"User ID"}],"responses":{"200":{"description":"User deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"deletedUserId":{"type":"integer"}}}}}},"400":{"description":"Invalid user ID or attempting to delete own account","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden - Admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/auth/register-start":{"post":{"tags":["Authentication"],"summary":"Start user registration","description":"Creates a new user and returns TOTP secret for Google Authenticator setup","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterStartRequest"}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterStartResponse"}}}},"400":{"description":"Invalid request or username already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/auth/register-confirm":{"post":{"tags":["Authentication"],"summary":"Confirm user registration","description":"Verifies TOTP code to confirm registration and activate account","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterConfirmRequest"}}}},"responses":{"200":{"description":"Registration confirmed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"400":{"description":"Invalid request or user already confirmed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Invalid TOTP code","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/auth/login":{"post":{"tags":["Authentication"],"summary":"Login user","description":"Authenticates user with username and TOTP code, returns JWT in HTTP-only cookie","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}}},"responses":{"200":{"description":"Login successful","headers":{"Set-Cookie":{"schema":{"type":"string","example":"auth_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...; Path=/; HttpOnly"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Invalid credentials or user not confirmed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout user","description":"Clears the authentication cookie","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"Logout successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/auth/me":{"get":{"tags":["Authentication"],"summary":"Get current user","description":"Returns the currently authenticated user's information including profile fill percentage","security":[{"cookieAuth":[]}],"responses":{"200":{"description":"User data retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}},"401":{"description":"Not authenticated or invalid token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/auth/profile":{"patch":{"tags":["Authentication"],"summary":"Update user profile","description":"Update the authenticated user's profile information (name, surname, email)","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":1,"maxLength":100,"description":"User's first name","example":"John"},"surname":{"type":"string","minLength":1,"maxLength":100,"description":"User's last name","example":"Doe"},"email":{"type":"string","format":"email","description":"User's email address","example":"john.doe@example.com"}}}}}},"responses":{"200":{"description":"Profile updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"user":{"$ref":"#/components/schemas/UserProfile"}}}}}},"400":{"description":"Validation failed or email already in use","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/Error"},{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"array","items":{"type":"object"}}}}]}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons/{hackathonId}/teams":{"get":{"tags":["Hackathon Management"],"summary":"Get all teams for a hackathon","description":"Retrieve paginated list of teams for hackathon management (Admin only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"hackathonId","required":true,"schema":{"type":"integer"},"description":"Hackathon ID"},{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"limit","schema":{"type":"integer","default":10},"description":"Number of teams per page"}],"responses":{"200":{"description":"Teams retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"teams":{"type":"array","items":{"$ref":"#/components/schemas/TeamSummary"}},"pagination":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}},"400":{"description":"Invalid hackathon ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden - Admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Hackathon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons/teams/{teamId}":{"get":{"tags":["Hackathon Management"],"summary":"Get team details with survey responses","description":"View team with all member survey responses (Admin only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"teamId","required":true,"schema":{"type":"integer"},"description":"Team ID"}],"responses":{"200":{"description":"Team details retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"team":{"$ref":"#/components/schemas/TeamWithSurvey"}}}}}},"400":{"description":"Invalid team ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden - Admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Team not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons/teams/{teamId}/accept":{"post":{"tags":["Hackathon Management"],"summary":"Accept a team","description":"Mark a team as accepted (Admin only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"teamId","required":true,"schema":{"type":"integer"},"description":"Team ID"}],"responses":{"200":{"description":"Team accepted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"team":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"isAccepted":{"type":"boolean"},"hackathon":{"type":"object"},"members":{"type":"array"},"updatedAt":{"type":"string","format":"date-time"}}}}}}}},"400":{"description":"Invalid team ID or team already accepted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden - Admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Team not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons/teams/{teamId}/reject":{"post":{"tags":["Hackathon Management"],"summary":"Reject a team","description":"Mark a team as rejected (Admin only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"teamId","required":true,"schema":{"type":"integer"},"description":"Team ID"}],"responses":{"200":{"description":"Team rejected successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"team":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"isAccepted":{"type":"boolean"},"hackathon":{"type":"object"},"members":{"type":"array"},"updatedAt":{"type":"string","format":"date-time"}}}}}}}},"400":{"description":"Invalid team ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden - Admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Team not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons":{"get":{"tags":["Hackathon Management"],"summary":"Get all hackathons","description":"Retrieve paginated list of all hackathons","parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"limit","schema":{"type":"integer","default":10},"description":"Number of hackathons per page"}],"responses":{"200":{"description":"Hackathons retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"hackathons":{"type":"array","items":{"$ref":"#/components/schemas/Hackathon"}},"pagination":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"post":{"tags":["Hackathon Management"],"summary":"Create a new hackathon","description":"Create a new hackathon (Admin only)","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["title","description","rules","type","prize","teamMax","teamMin","registrationOpen","startDate","endDate"],"properties":{"title":{"type":"string","minLength":3,"maxLength":200,"example":"ML Hackathon 2025"},"description":{"type":"string","minLength":10,"maxLength":5000,"example":"A machine learning competition focusing on classification problems"},"rules":{"type":"string","minLength":10,"maxLength":10000,"example":"Teams must submit solutions by the deadline..."},"type":{"type":"string","enum":["CLASSIFICATION","REGRESSION","NLP","COMPUTER_VISION","TIME_SERIES","OTHER"],"example":"CLASSIFICATION"},"prize":{"type":"integer","minimum":0,"example":10000,"description":"Prize amount in dollars"},"teamMax":{"type":"integer","minimum":1,"maximum":50,"example":4},"teamMin":{"type":"integer","minimum":1,"maximum":50,"example":2},"registrationOpen":{"type":"string","format":"date-time","example":"2025-02-01T00:00:00Z"},"startDate":{"type":"string","format":"date-time","example":"2025-03-01T00:00:00Z"},"endDate":{"type":"string","format":"date-time","example":"2025-03-15T23:59:59Z"}}}}}},"responses":{"201":{"description":"Hackathon created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"hackathon":{"$ref":"#/components/schemas/Hackathon"}}}}}},"400":{"description":"Validation failed","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"array"}}}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden - Admin access required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons/active":{"get":{"tags":["Hackathon Management"],"summary":"Get active hackathons","description":"Retrieve all currently running hackathons","responses":{"200":{"description":"Active hackathons retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Hackathon"}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons/upcoming":{"get":{"tags":["Hackathon Management"],"summary":"Get upcoming hackathons","description":"Retrieve all upcoming hackathons","responses":{"200":{"description":"Upcoming hackathons retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Hackathon"}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons/organizer/{organizerId}":{"get":{"tags":["Hackathon Management"],"summary":"Get hackathons by organizer","description":"Retrieve all hackathons created by a specific organizer","parameters":[{"in":"path","name":"organizerId","required":true,"schema":{"type":"integer"},"description":"Organizer user ID"}],"responses":{"200":{"description":"Hackathons retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Hackathon"}}}}},"400":{"description":"Invalid organizer ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/hackathons/{id}":{"get":{"tags":["Hackathon Management"],"summary":"Get hackathon by ID","description":"Retrieve detailed information about a specific hackathon","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Hackathon ID"}],"responses":{"200":{"description":"Hackathon retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Hackathon"}}}},"400":{"description":"Invalid hackathon ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Hackathon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"put":{"tags":["Hackathon Management"],"summary":"Update a hackathon","description":"Update an existing hackathon (Admin or organizer only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Hackathon ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":200},"description":{"type":"string","minLength":10,"maxLength":5000},"rules":{"type":"string","minLength":10,"maxLength":10000},"type":{"type":"string","enum":["CLASSIFICATION","REGRESSION","NLP","COMPUTER_VISION","TIME_SERIES","OTHER"]},"prize":{"type":"integer","minimum":0,"description":"Prize amount in dollars"},"teamMax":{"type":"integer","minimum":1,"maximum":50},"teamMin":{"type":"integer","minimum":1,"maximum":50},"registrationOpen":{"type":"string","format":"date-time"},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"}}}}}},"responses":{"200":{"description":"Hackathon updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"hackathon":{"$ref":"#/components/schemas/Hackathon"}}}}}},"400":{"description":"Validation failed or invalid hackathon ID","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"details":{"type":"array"}}}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not authorized to update this hackathon","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Hackathon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}},"delete":{"tags":["Hackathon Management"],"summary":"Delete a hackathon","description":"Delete a hackathon (Admin or organizer only)","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"},"description":"Hackathon ID"}],"responses":{"200":{"description":"Hackathon deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"deletedHackathonId":{"type":"integer"}}}}}},"400":{"description":"Invalid hackathon ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Not authorized to delete this hackathon","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Hackathon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health check","description":"Check if the API is running","responses":{"200":{"description":"API is healthy","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/teams/create":{"post":{"tags":["Teams"],"summary":"Create a new team","description":"Create a new team for a hackathon with survey responses","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["hackathonId","teamName","surveyResponses"],"properties":{"hackathonId":{"type":"integer","description":"ID of the hackathon"},"teamName":{"type":"string","minLength":1,"maxLength":100,"description":"Name of the team"},"surveyResponses":{"type":"array","items":{"type":"object","required":["questionId","answer"],"properties":{"questionId":{"type":"integer"},"answer":{"type":"string"}}}}}}}}},"responses":{"201":{"description":"Team created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"team":{"$ref":"#/components/schemas/TeamDetails"}}}}}},"400":{"description":"Validation failed or user already in team","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Hackathon not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/teams/join":{"post":{"tags":["Teams"],"summary":"Join an existing team","description":"Join a team using a 6-digit invitation code with survey responses","security":[{"cookieAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["invitationCode","surveyResponses"],"properties":{"invitationCode":{"type":"string","pattern":"^[0-9]{6}$","description":"6-digit team invitation code","example":"123456"},"surveyResponses":{"type":"array","items":{"type":"object","required":["questionId","answer"],"properties":{"questionId":{"type":"integer"},"answer":{"type":"string"}}}}}}}}},"responses":{"200":{"description":"Successfully joined team","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"team":{"$ref":"#/components/schemas/TeamDetails"}}}}}},"400":{"description":"Validation failed, team full, or user already in team","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Invalid invitation code","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/teams/hackathon/{hackathonId}":{"get":{"tags":["Teams"],"summary":"Get my team for a hackathon","description":"Retrieve the user's team information for a specific hackathon","security":[{"cookieAuth":[]}],"parameters":[{"in":"path","name":"hackathonId","required":true,"schema":{"type":"integer"},"description":"Hackathon ID"}],"responses":{"200":{"description":"Team information retrieved","content":{"application/json":{"schema":{"type":"object","properties":{"team":{"$ref":"#/components/schemas/TeamDetails"}}}}}},"400":{"description":"Invalid hackathon ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Not in a team for this hackathon","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/teams/hackathon/{hackathonId}/survey":{"get":{"tags":["Teams"],"summary":"Get hackathon survey questions","description":"Retrieve survey questions for a specific hackathon","parameters":[{"in":"path","name":"hackathonId","required":true,"schema":{"type":"integer"},"description":"Hackathon ID"}],"responses":{"200":{"description":"Survey questions retrieved","content":{"application/json":{"schema":{"type":"object","properties":{"questions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"question":{"type":"string"},"order":{"type":"integer"}}}}}}}}},"400":{"description":"Invalid hackathon ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}